<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous"
    />
    <script src="https://kit.fontawesome.com/4508ce3a9e.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <h1 style="text-align: center"><%= title %></h1>
    <p style="text-align: center">Welcome to <%= title %></p>

<!-- Filter Form-->

<form action="/search" method="POST" class="row gy-2 gx-3 align-items-center mt-5 justify-content-center">
  <div class="col-auto">
    <label class="visually-hidden" for="autoSizingInput">By Name</label>
    <input name="fname" type="text" class="form-control" id="autoSizingInput" placeholder="Akash Jangra">
  </div>
  <div class="col-auto">
    <label class="visually-hidden" for="autoSizingInputGroup">By Email</label>
    <div class="input-group">
      <input type="text" class="form-control" id="autoSizingInputGroup" placeholder="akashjangra@gmail.com" name="femail">
    </div>
  </div>
  <div class="col-auto">
    <label class="visually-hidden" for="autoSizingInputGroup-2">By Mobile</label>
    <div class="input-group">
      <input type="text" class="form-control" id="autoSizingInputGroup-2" placeholder="958874****" name="fmobile">
    </div>
  </div>
  <div class="col-auto">
    <button type="submit" class="btn btn-primary">Search</button>
  </div>
</form>

    <!--Table to fetch data-->

    <table class="table table-dark table-striped mt-5">
      <thead style="text-align: center;">
        <th>Name</th>
        <th>Age</th>
        <th>Mobile Number</th>
        <th>Alternate Number</th>
        <th>Email Id</th>
        <th>Department</th>
        <th>Hourly Rate</th>
        <th>Total Hours</th>
        <th>Total Salary</th>
        <th>Action</th>
      </tr>
      </thead>
      <% if(records.length>0) {%>
      <% records.forEach(function (row) { %>
<tr style="text-align: center;">
  <td><%= row.name %></td>
  <td><%= row.age %></td>
  <td><%= row.mNumber %></td>
  <td><%= row.aNumber %></td>
  <td><%= row.email %></td>
  <td><%= row.department %></td>
  <td><%= row.rate %></td>
  <td><%= row.hours %></td>
  <td><%= row.total %></td>
  <td><a href="/edit/<%= row._id %>" class="btn btn-primary btn-xs"><i class="fas fa-edit fa-xs"></i></a>
  <a href="/delete/<%= row._id %>" class="btn btn-danger btn-xs"><i class="fas fa-trash fa-xs"></i></a></td>
</tr>
<% }) %> <% } else {%>

  <td colspan="9">No Record Found</td>
<% } %>
    </table>


    <!--Submit Records Form-->
    
    <form action="/" method="POST" class="row gy-3 gx-3 align-items-center mt-5 justify-content-center" id="newrecords">
      <div class="col-auto">
        <label class="visually-hidden" for="eName">Name</label>
        <input name="name" type="text" class="form-control" id="eName" placeholder="Enter Name">
      </div>
      <div class="col-auto">
        <label class="visually-hidden" for="Eage">Age</label>
        <input name="age" type="Number" class="form-control" id="Eage" placeholder="Enter Age">
      </div>
      <div class="col-auto">
        <label class="visually-hidden" for="EMobile">Mobile Number</label>
        <input name="mNum" type="Number" class="form-control" id="EMobile" placeholder="Enter Mobile Number">
      </div>
      <div class="col-auto">
        <label class="visually-hidden" for="eAlter">AlterNate Number</label>
        <input name="aNum" type="Number" class="form-control" id="eAlter" placeholder="Enter Alternate Number">
      </div>
      <div class="col-auto">
        <label class="visually-hidden" for="empEmail">Email</label>
        <div class="input-group">
          <input type="text" class="form-control" id="empEmail" placeholder="Enter Email" name="email">
        </div>
      </div>
      <div class="col-auto">
        <label class="visually-hidden" for="eDepart">Department</label>
        <div class="input-group">
          <input type="text" class="form-control" id="eDepart" placeholder="Enter Department" name="department">
        </div>
      </div>
      <div class="col-auto">
        <label class="visually-hidden" for="Erate">Rate</label>
        <input name="rate" type="Number" class="form-control" id="Erate" placeholder="Enter Hourly Rate">
      </div>
      <div class="col-auto">
        <label class="visually-hidden" for="eHours">Total Hours</label>
        <input name="hours" type="Number" class="form-control" id="eHours" placeholder="Enter Total Hours">
      </div>
      <div class="col-auto">
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </form>
  
  
  
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
